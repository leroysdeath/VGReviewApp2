{
  "permissions": {
    "allow": [
      "Bash(npm run dev:*)",
      "Bash(npm run type-check:*)",
      "Bash(timeout 10 npm run dev)",
      "Bash(npx tsc:*)",
      "Bash(rm:*)",
      "Bash(timeout 15 npm run dev)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "WebFetch(domain:grand-narwhal-4e85d9.space)",
      "Bash(git pull:*)",
      "Bash(timeout 10 netlify dev)",
      "Bash(mv:*)",
      "Bash(npm install:*)",
      "Bash(grep:*)",
      "Bash(npm run sync-igdb:*)",
      "Bash(node:*)",
      "Bash(netlify dev:*)",
      "Bash(curl:*)",
      "Bash(echo $VITE_SUPABASE_URL)",
      "Bash(npx netlify dev:*)",
      "mcp__supabase__execute_sql",
      "mcp__supabase__list_tables",
      "mcp__supabase__list_tables",
      "mcp__supabase__apply_migration",
      "Bash(true)",
      "mcp__supabase__list_branches",
      "mcp__supabase__list_extensions",
      "mcp__supabase__list_migrations",
      "mcp__supabase__get_advisors",
      "Bash(netlify dev:*)",
      "Bash(netlify dev:*)",
      "Bash(npm run build:*)",
      "Bash(timeout 10 npm run preview)",
      "Bash(npm run lint)",
      "Bash(taskkill:*)",
      "Bash(powershell:*)",
      "Bash(npx supabase db push:*)",
      "Bash(timeout 15 netlify dev)",
      "Bash(timeout 12 netlify dev)",
      "Bash(tasklist:*)",
      "Bash(cmd //c:*)",
      "Bash(npx supabase db reset:*)",
      "Bash(npx supabase db inspect:*)",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node update_zelda_1022.js)",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\nconst { data } = await supabase.from(''game'').select(''*'').limit(1);\nconsole.log(''Game table columns:'', Object.keys(data[0] || {}));\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\nconst { data } = await supabase.from(''game'').select(''id, name, developer, publisher, summary'').eq(''id'', 1022).single();\nconsole.log(''Final verification - Game 1022:'', {\n  name: data.name,\n  developer: data.developer,\n  publisher: data.publisher,\n  summary: data.summary ? data.summary.substring(0, 100) + ''...'' : ''No summary''\n});\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\nconst { data } = await supabase.from(''user'').select(''*'').limit(1);\nconsole.log(''User table columns:'', Object.keys(data[0] || {}));\n\")",
      "Bash(sed:*)",
      "Bash(set VITE_SUPABASE_URL=https://cqufmmnguumyhbkhgwdc.supabase.co)",
      "Bash(set:*)",
      "Bash(find:*)",
      "Bash(git checkout:*)",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\nconst { data } = await supabase.from(''game'').select(''*'').limit(1);\nconsole.log(''Game table columns:'', Object.keys(data[0] || {}));\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\n// First check if Pokemon Blue (IGDB ID 1511) already exists\nconst { data: existing } = await supabase.from(''game'').select(''id, name, igdb_id'').eq(''igdb_id'', 1511).single();\nif (existing) {\n  console.log(''Pokemon Blue already exists in database:'', existing);\n} else {\n  console.log(''Pokemon Blue does not exist - would be inserted with correct schema'');\n}\n\n// Test the corrected schema structure (without actually inserting)\nconst testGameData = {\n  igdb_id: 1511,\n  name: ''Pokemon Blue Version'',\n  cover_url: null,\n  genres: [''Role-playing (RPG)''],\n  release_date: ''1996-02-27''  // Using release_date (correct column)\n};\n\nconsole.log(''Test game data structure that would be inserted:'', testGameData);\nconsole.log(''✅ Schema validation: All fields match database columns'');\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\n// Simulate the date conversion that would happen in ensureGameExists\nconst igdbTimestamp = 845337600;\nconst convertedDate = new Date(igdbTimestamp * 1000).toISOString().split(''T'')[0];\n\nconsole.log(''Testing date conversion:'');\nconsole.log(''IGDB Unix timestamp:'', igdbTimestamp);\nconsole.log(''Converted to ISO date:'', convertedDate);\n\n// Test game data structure with converted date\nconst testGameData = {\n  igdb_id: 1511,\n  name: ''Pokemon Blue Version'',\n  cover_url: null,\n  genres: [''Role-playing (RPG)''],\n  release_date: convertedDate\n};\n\nconsole.log(''\\nTest game data with converted date:'', testGameData);\n\n// Check if Pokemon Blue already exists before testing\nconst { data: existing, error: checkError } = await supabase\n  .from(''game'')\n  .select(''id, name, igdb_id, release_date'')\n  .eq(''igdb_id'', 1511)\n  .single();\n\nif (existing) {\n  console.log(''\\n✅ Pokemon Blue already exists:'', existing);\n} else if (checkError && checkError.code === ''PGRST116'') {\n  console.log(''\\n⚠️ Pokemon Blue does not exist yet - ready for insertion'');\n  console.log(''✅ Date format validation: PostgreSQL will accept:'', convertedDate);\n} else {\n  console.log(''\\n❌ Error checking Pokemon Blue:'', checkError);\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\n// Get a sample game to understand the structure\nconst { data } = await supabase.from(''game'').select(''*'').limit(1);\nconsole.log(''Sample game record:'', data[0]);\nconsole.log();\nconsole.log(''Column names and values:'');\nif (data[0]) {\n  Object.entries(data[0]).forEach(([key, value]) => {\n    console.log(key + '':'', typeof value, value);\n  });\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\n// Simulate the complete game insertion data that would be created\nconst igdbId = 1511;\nconst igdbTimestamp = 845337600;\nconst convertedDate = new Date(igdbTimestamp * 1000).toISOString().split(''T'')[0];\n\nconst testGameData = {\n  igdb_id: igdbId,\n  game_id: igdbId.toString(), // This was the missing field!\n  name: ''Pokemon Blue Version'',\n  cover_url: null,\n  genres: [''Role-playing (RPG)''],\n  release_date: convertedDate\n};\n\nconsole.log(''Complete test game data structure:'');\nconsole.log(testGameData);\nconsole.log();\nconsole.log(''Field validation:'');\nconsole.log(''- igdb_id (number):'', typeof testGameData.igdb_id, testGameData.igdb_id);\nconsole.log(''- game_id (string):'', typeof testGameData.game_id, testGameData.game_id);\nconsole.log(''- name (string):'', typeof testGameData.name, testGameData.name);\nconsole.log(''- release_date (string):'', typeof testGameData.release_date, testGameData.release_date);\nconsole.log();\n\n// Check if Pokemon Blue already exists\nconst { data: existing, error: checkError } = await supabase\n  .from(''game'')\n  .select(''id, name, igdb_id, game_id'')\n  .eq(''igdb_id'', 1511)\n  .single();\n\nif (existing) {\n  console.log(''✅ Pokemon Blue already exists:'', existing);\n} else if (checkError && checkError.code === ''PGRST116'') {\n  console.log(''⚠️ Pokemon Blue does not exist yet'');\n  console.log(''✅ Ready for insertion with all required fields including game_id'');\n} else {\n  console.log(''❌ Error checking Pokemon Blue:'', checkError);\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\n// Test Oracle of Ages data structure\nconst igdbId = 1041;\nconst igdbTimestamp = 988934400; // Example timestamp for Oracle of Ages\nconst convertedDate = new Date(igdbTimestamp * 1000).toISOString().split(''T'')[0];\n\nconst testGameData = {\n  igdb_id: igdbId,\n  game_id: igdbId.toString(),\n  name: ''The Legend of Zelda: Oracle of Ages'',\n  cover_url: ''some-url'',\n  genres: [''Action''],\n  release_date: convertedDate\n};\n\nconsole.log(''Oracle of Ages test data structure:'');\nconsole.log(testGameData);\nconsole.log();\nconsole.log(''Field validation:'');\nconsole.log(''- igdb_id (number):'', typeof testGameData.igdb_id, testGameData.igdb_id);\nconsole.log(''- game_id (string):'', typeof testGameData.game_id, testGameData.game_id);\nconsole.log(''- release_date (string):'', typeof testGameData.release_date, testGameData.release_date);\n\n// Check if Oracle of Ages already exists\nconst { data: existing, error: checkError } = await supabase\n  .from(''game'')\n  .select(''id, name, igdb_id, game_id'')\n  .eq(''igdb_id'', 1041)\n  .single();\n\nif (existing) {\n  console.log(''\\n✅ Oracle of Ages already exists:'', existing);\n} else if (checkError && checkError.code === ''PGRST116'') {\n  console.log(''\\n⚠️ Oracle of Ages does not exist yet - ready for insertion'');\n  console.log(''✅ All required fields are present and valid'');\n} else {\n  console.log(''\\n❌ Error checking Oracle of Ages:'', checkError);\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\nconst { data } = await supabase\n  .from(''game'')\n  .select(''id, igdb_id, name'')\n  .ilike(''name'', ''%bomberman%'')\n  .limit(10);\n\nconsole.log(''Bomber Man games found:'');\ndata?.forEach(game => {\n  console.log(''- ID: '' + game.id + '', IGDB ID: '' + game.igdb_id + '', Name: '' + game.name);\n});\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\nconst { data } = await supabase\n  .from(''game'')\n  .select(''id, igdb_id, name'')\n  .ilike(''name'', ''%bomberman%64%'')\n  .limit(10);\n\nconsole.log(''Bomberman 64 games found:'');\ndata?.forEach(game => {\n  console.log(''- ID: '' + game.id + '', IGDB ID: '' + game.igdb_id + '', Name: '' + game.name);\n});\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\n// Check what tables actually exist\nconsole.log(''🔍 Checking database tables...'');\n\n// Test each table individually\nconst tables = [''user'', ''users'', ''game'', ''rating'', ''review''];\n\nfor (const table of tables) {\n  try {\n    const { data, error } = await supabase.from(table).select(''*'').limit(1);\n    if (!error) {\n      console.log(''✅ Table exists: '' + table + '' (columns: '' + Object.keys(data[0] || {}).join('', '') + '')'');\n    }\n  } catch (e) {\n    console.log(''❌ Table does not exist or access denied: '' + table);\n  }\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\nconsole.log(''🔍 Checking database tables...'');\n\n// Test each table individually\nconst tables = [''user'', ''users'', ''game'', ''rating'', ''review''];\n\nfor (const table of tables) {\n  try {\n    const { data, error } = await supabase.from(table).select(''*'').limit(1);\n    if (error) {\n      console.log(''❌ Error accessing '' + table + '': '' + error.message);\n    } else {\n      const columns = data && data.length > 0 ? Object.keys(data[0]).join('', '') : ''empty table'';\n      console.log(''✅ Table exists: '' + table + '' (columns: '' + columns + '')'');\n    }\n  } catch (e) {\n    console.log(''💥 Exception accessing '' + table + '': '' + e.message);\n  }\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR2cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\nconsole.log(''🔍 Testing foreign key relationships...'');\n\n// Test the actual relationship between game and rating tables\ntry {\n  const { data, error } = await supabase\n    .from(''game'')\n    .select(''*, ratings:rating(*)'')\n    .limit(1);\n    \n  if (error) {\n    console.log(''❌ Foreign key with rating(*) failed:'', error.message);\n  } else {\n    console.log(''✅ Foreign key with rating(*) works'');\n  }\n} catch (e) {\n  console.log(''💥 Exception testing rating(*):'', e.message);\n}\n\n// Test different foreign key syntaxes\nconst fkTests = [\n  ''rating!rating_game_id_fkey(*)'',\n  ''rating!game_id(*)'', \n  ''rating(*)'',\n  ''ratings:rating!game_id(*)'',\n  ''ratings:rating(id,rating,user_id)''\n];\n\nfor (const fkTest of fkTests) {\n  try {\n    const { data, error } = await supabase\n      .from(''game'')\n      .select(''id, name, '' + fkTest)\n      .limit(1);\n      \n    if (error) {\n      console.log(''❌ FK test failed ['' + fkTest + '']: '' + error.message);\n    } else {\n      console.log(''✅ FK test passed ['' + fkTest + '']'');\n    }\n  } catch (e) {\n    console.log(''💥 Exception in FK test ['' + fkTest + '']: '' + e.message);\n  }\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\n// Check the rating table structure and what game_id values look like\nconst { data } = await supabase.from(''rating'').select(''id, user_id, game_id, rating'').limit(3);\nconsole.log(''Rating table sample:'');\ndata?.forEach((row, i) => {\n  console.log((i+1) + ''. ID: '' + row.id + '', User: '' + row.user_id + '', Game: '' + row.game_id + '', Rating: '' + row.rating);\n});\nconsole.log();\n\n// Check if there''s a direct relationship without explicit foreign key name\ntry {\n  const { data: gameData, error } = await supabase\n    .from(''game'')\n    .select(''id, name, rating(id,rating,user_id)'')\n    .eq(''id'', 1)\n    .limit(1);\n    \n  if (error) {\n    console.log(''❌ Direct FK failed:'', error.message);\n  } else {\n    console.log(''✅ Direct FK works! Found relationship between game and rating'');\n  }\n} catch (e) {\n  console.log(''💥 Exception in direct FK test:'', e.message);\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\nconsole.log(''🔍 Checking database tables...'');\n\n// Test each table individually\nconst tables = [''user'', ''users'', ''game'', ''rating'', ''review''];\n\nfor (const table of tables) {\n  try {\n    const { data, error } = await supabase.from(table).select(''*'').limit(1);\n    if (error) {\n      console.log(''❌ Error accessing '' + table + '': '' + error.message);\n    } else {\n      const columns = data && data.length > 0 ? Object.keys(data[0]).join('', '') : ''empty table'';\n      console.log(''✅ Table exists: '' + table + '' (columns: '' + columns + '')'');\n    }\n  } catch (e) {\n    console.log(''💥 Exception accessing '' + table + '': '' + e.message);\n  }\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\nconsole.log(''✅ Testing if get_or_create_user function exists...'');\n\n// Test the function exists by calling it with test parameters\nconst { data, error } = await supabase.rpc(''get_or_create_user'', {\n  auth_id: ''00000000-0000-0000-0000-000000000000'',\n  user_email: ''test@test.com'',\n  user_name: ''Test User'',\n  user_provider: ''supabase''\n});\n\nif (error) {\n  if (error.code === ''42883'') {\n    console.log(''❌ Function does not exist'');\n  } else {\n    console.log(''⚠️ Function exists but has error:'', error.message);\n  }\n} else {\n  console.log(''✅ Function exists and returned:'', data);\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\nconsole.log(''🔍 Testing foreign key relationships...'');\n\n// Test the actual relationship between game and rating tables\ntry {\n  const { data, error } = await supabase\n    .from(''game'')\n    .select(''*, ratings:rating(*)'')\n    .limit(1);\n    \n  if (error) {\n    console.log(''❌ Foreign key with rating(*) failed:'', error.message);\n  } else {\n    console.log(''✅ Foreign key with rating(*) works'');\n  }\n} catch (e) {\n  console.log(''💥 Exception testing rating(*):'', e.message);\n}\n\n// Test different foreign key syntaxes\nconst fkTests = [\n  ''rating!rating_game_id_fkey(*)'',\n  ''rating!game_id(*)'', \n  ''rating(*)'',\n  ''ratings:rating!game_id(*)'',\n  ''ratings:rating(id,rating,user_id)''\n];\n\nfor (const fkTest of fkTests) {\n  try {\n    const { data, error } = await supabase\n      .from(''game'')\n      .select(''id, name, '' + fkTest)\n      .limit(1);\n      \n    if (error) {\n      console.log(''❌ FK test failed ['' + fkTest + '']: '' + error.message);\n    } else {\n      console.log(''✅ FK test passed ['' + fkTest + '']'');\n    }\n  } catch (e) {\n    console.log(''💥 Exception in FK test ['' + fkTest + '']: '' + e.message);\n  }\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\n// Test the exact queries that are failing\nconsole.log(''Testing failing queries from the logs...'');\n\n// This is the query that''s failing with 406: game?select=*,rating(rating)&igdb_id=eq.338668\ntry {\n  const { data, error } = await supabase\n    .from(''game'')\n    .select(''*,rating(rating)'')\n    .eq(''igdb_id'', 338668);\n    \n  if (error) {\n    console.log(''❌ Query failed:'', error.message);\n    console.log(''Error details:'', error);\n  } else {\n    console.log(''✅ Query succeeded, found'', data?.length, ''games'');\n  }\n} catch (e) {\n  console.log(''💥 Exception:'', e.message);\n}\n\n// Test alternative syntax\ntry {\n  const { data, error } = await supabase\n    .from(''game'')\n    .select(''*, rating!game_id(rating)'')\n    .eq(''igdb_id'', 338668);\n    \n  if (error) {\n    console.log(''❌ Alternative syntax failed:'', error.message);\n  } else {\n    console.log(''✅ Alternative syntax worked, found'', data?.length, ''games'');\n  }\n} catch (e) {\n  console.log(''💥 Alternative exception:'', e.message);\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\n// Simulate the ensureGameExists function call that''s failing\nconsole.log(''🧪 Testing ensureGameExists logic...'');\n\nconst testGameData = {\n  id: -338668, // This is probably a negative ID indicating it''s from IGDB\n  igdb_id: 338668,\n  name: ''Test Game'',\n  cover_url: ''some-url''\n};\n\nconsole.log(''Test game data:'', testGameData);\nconsole.log(''igdb_id type:'', typeof testGameData.igdb_id, ''value:'', testGameData.igdb_id);\nconsole.log(''Is igdb_id valid?'', !isNaN(testGameData.igdb_id) && testGameData.igdb_id !== null && testGameData.igdb_id !== undefined);\n\n// Test the IGDB ID lookup\ntry {\n  const { data, error } = await supabase\n    .from(''game'')\n    .select(''id, name, igdb_id'')\n    .eq(''igdb_id'', testGameData.igdb_id)\n    .single();\n    \n  if (error) {\n    console.log(''❌ Game lookup failed:'', error.message);\n    \n    // Test if we can insert the game (simulate the insertion logic)\n    const gameToInsert = {\n      igdb_id: testGameData.igdb_id,\n      game_id: testGameData.igdb_id.toString(),\n      name: testGameData.name,\n      cover_url: testGameData.cover_url || null,\n      genres: null,\n      release_date: null,\n    };\n    \n    console.log(''Would insert:'', gameToInsert);\n    \n    // Actually try to insert (for testing)\n    const { data: insertResult, error: insertError } = await supabase\n      .from(''game'')\n      .insert(gameToInsert)\n      .select(''id, name'')\n      .single();\n      \n    if (insertError) {\n      console.log(''❌ Test insertion failed:'', insertError.message);\n    } else {\n      console.log(''✅ Test insertion successful:'', insertResult);\n      \n      // Clean up test record\n      await supabase.from(''game'').delete().eq(''id'', insertResult.id);\n      console.log(''🧹 Cleaned up test record'');\n    }\n  } else {\n    console.log(''✅ Found existing game:'', data);\n  }\n} catch (e) {\n  console.log(''💥 Exception:'', e.message);\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\n// Simulate the ensureGameExists function call that''s failing\nconsole.log(''🧪 Testing ensureGameExists logic...'');\n\nconst testGameData = {\n  id: -338668, // This is probably a negative ID indicating it''s from IGDB\n  igdb_id: 338668,\n  name: ''Test Game'',\n  cover_url: ''some-url''\n};\n\nconsole.log(''Test game data:'', testGameData);\nconsole.log(''igdb_id type:'', typeof testGameData.igdb_id, ''value:'', testGameData.igdb_id);\nconsole.log(''Is igdb_id valid?'', !isNaN(testGameData.igdb_id));\n\n// Test the IGDB ID lookup\ntry {\n  const { data, error } = await supabase\n    .from(''game'')\n    .select(''id, name, igdb_id'')\n    .eq(''igdb_id'', testGameData.igdb_id)\n    .single();\n    \n  if (error) {\n    console.log(''❌ Game lookup failed:'', error.message);\n    \n    // Test if we can insert the game (simulate the insertion logic)\n    const gameToInsert = {\n      igdb_id: testGameData.igdb_id,\n      game_id: testGameData.igdb_id.toString(),\n      name: testGameData.name,\n      cover_url: testGameData.cover_url || null,\n      genres: null,\n      release_date: null,\n    };\n    \n    console.log(''Would insert:'', gameToInsert);\n  } else {\n    console.log(''✅ Found existing game:'', data);\n  }\n} catch (e) {\n  console.log(''💥 Exception:'', e.message);\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\nconsole.log(''🧪 Testing game lookup for IGDB ID 338668...'');\n\n// Test the IGDB ID lookup\nconst { data, error } = await supabase\n  .from(''game'')\n  .select(''id, name, igdb_id'')\n  .eq(''igdb_id'', 338668)\n  .single();\n  \nif (error) {\n  console.log(''❌ Game lookup failed:'', error.message);\n} else {\n  console.log(''✅ Found existing game:'', data);\n}\n\n// Also test a different game that might not exist\nconst { data: data2, error: error2 } = await supabase\n  .from(''game'')\n  .select(''id, name, igdb_id'')\n  .eq(''igdb_id'', 999999)\n  .single();\n  \nif (error2) {\n  console.log(''❌ Game 999999 lookup failed (expected):'', error2.message);\n} else {\n  console.log(''✅ Found game 999999 (unexpected):'', data2);\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nconsole.log(''🧪 Testing with exact data structure from form submission...'');\n\n// Simulate the exact data structure passed to ensureGameExists\nconst gameData = {\n  id: -338668,\n  igdb_id: 338668,\n  name: ''A Minecraft Movie'', \n  cover_url: ''some-url'',\n  genre: ''Action'',\n  releaseDate: undefined  // This might be undefined\n};\n\nconsole.log(''Game data to test:'', gameData);\nconsole.log(''ID check (id > 0):'', gameData.id > 0);\nconsole.log(''IGDB ID valid:'', !isNaN(gameData.igdb_id) && gameData.igdb_id !== null && gameData.igdb_id !== undefined);\n\n// Test the exact validation that ensureGameExists does\nif (gameData.igdb_id === undefined || gameData.igdb_id === null || isNaN(gameData.igdb_id)) {\n  console.log(''❌ Would fail igdb_id validation'');\n} else {\n  console.log(''✅ Would pass igdb_id validation'');\n}\n\")",
      "Bash(npm run lint:*)",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\n// Check if game_progress table exists\ntry {\n  const { data, error } = await supabase.from(''game_progress'').select(''*'').limit(1);\n  if (error) {\n    console.log(''❌ game_progress table does NOT exist:'', error.message);\n  } else {\n    console.log(''✅ game_progress table exists'');\n  }\n} catch (e) {\n  console.log(''💥 Exception checking game_progress:'', e.message);\n}\n\")",
      "Bash(VITE_SUPABASE_URL=\"https://cqufmmnguumyhbkhgwdc.supabase.co\" VITE_SUPABASE_ANON_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s\" node -e \"\nimport { createClient } from ''@supabase/supabase-js'';\nconst supabase = createClient(''https://cqufmmnguumyhbkhgwdc.supabase.co'', ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNxdWZtbW5ndXVteWhia2hnd2RjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI2MzU3MDUsImV4cCI6MjA2ODIxMTcwNX0.iP9jJM26Xa3-YeeB2YdYnqMK5JZyYcFY5_KXuLAZw-s'');\n\n// Get a sample game to understand the exact schema\nconst { data } = await supabase.from(''game'').select(''*'').limit(1);\nconsole.log(''Game table schema - sample record:'');\nif (data && data[0]) {\n  Object.entries(data[0]).forEach(([key, value]) => {\n    const type = value === null ? ''null'' : typeof value;\n    const valueStr = Array.isArray(value) ? ''[array]'' : String(value).substring(0, 50);\n    console.log(''  '' + key + '': '' + type + '' = '' + valueStr);\n  });\n}\n\")"
    ],
    "deny": [],
    "additionalDirectories": [
      "C:\\c\\Users\\thoma\\Desktop"
    ]
  }
}